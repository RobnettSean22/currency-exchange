{"ast":null,"code":"import _classCallCheck from\"/Users/seanrobnett/Desktop/my-projects/code-test/currency-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/seanrobnett/Desktop/my-projects/code-test/currency-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/seanrobnett/Desktop/my-projects/code-test/currency-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/seanrobnett/Desktop/my-projects/code-test/currency-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/seanrobnett/Desktop/my-projects/code-test/currency-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Chart from\"../Chart/Chart\";import\"./Currency.scss\";import axios from\"axios\";var Currency=/*#__PURE__*/function(_Component){_inherits(Currency,_Component);var _super=_createSuper(Currency);function Currency(props){var _this;_classCallCheck(this,Currency);_this=_super.call(this,props);_this.exchangeRates=function(){axios.get(\"https://api.exchangeratesapi.io/latest\").then(function(res){_this.setState({data:res.data,CurrencyRates:res.data.rates});});};_this.fromChange=function(e){_this.setState({fromSelect:e.target.value.split(\",\")});};_this.toChange=function(e){_this.setState({toSelect:e.target.value.split(\",\")});};_this.calc=function(){var _this$state=_this.state,fromSelect=_this$state.fromSelect,amountInput=_this$state.amountInput,toSelect=_this$state.toSelect;if(fromSelect[0]===1){var calculated=amountInput*toSelect[0];_this.setState({exchanged:calculated.toFixed(3).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\"),display:true,amountInput:_this.state.amountInput.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")});}else if(toSelect[0]===1){var rate=1/fromSelect[0];var reverseRate=toSelect[0]/fromSelect[0];var _calculated=amountInput*rate;_this.setState({exchanged:_calculated.toFixed(3).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\"),oneFromRate:rate.toFixed(3),oneToRate:reverseRate.toFixed(3),display:true,amountInput:_this.state.amountInput.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")});}else if(fromSelect[0]||toSelect[0]!==1){var _reverseRate=toSelect[0]/fromSelect[0];var _rate=fromSelect[0]/toSelect[0];var _calculated2=amountInput*_reverseRate;_this.setState({exchanged:_calculated2.toFixed(3).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\"),oneFromRate:_reverseRate.toFixed(3),oneToRate:_rate.toFixed(3),display:true,amountInput:_this.state.amountInput.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")});}};_this.state={data:[],CurrencyRates:[],amountInput:\"\",fromSelect:[\"1\"],toSelect:[\"1\"],exchanged:null,oneToRate:null,oneFromRate:null,display:false};_this.fromChange=_this.fromChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Currency,[{key:\"componentDidMount\",value:function componentDidMount(){this.exchangeRates();}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,CurrencyRates=_this$state2.CurrencyRates,amountInput=_this$state2.amountInput,fromSelect=_this$state2.fromSelect,toSelect=_this$state2.toSelect,exchanged=_this$state2.exchanged,oneFromRate=_this$state2.oneFromRate,oneToRate=_this$state2.oneToRate,display=_this$state2.display,data=_this$state2.data;var rateArray=Object.entries(CurrencyRates);var s=rateArray.map(function(b){return b[0];});var t=rateArray.map(function(b){return b[1];});var sortArrays=rateArray.sort().map(function(items,i){return/*#__PURE__*/React.createElement(\"option\",{key:i,value:[items[1],items[0]]},items[0]);});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"CurrencyXChange\")),/*#__PURE__*/React.createElement(\"div\",{id:\"container\"},/*#__PURE__*/React.createElement(\"div\",{id:\"calculator\"},/*#__PURE__*/React.createElement(\"input\",{value:amountInput,onChange:function onChange(e){return _this2.setState({amountInput:e.target.value});}}),/*#__PURE__*/React.createElement(\"select\",{value:fromSelect,onChange:this.fromChange},/*#__PURE__*/React.createElement(\"option\",{value:[\"1\"]},data.base),sortArrays),/*#__PURE__*/React.createElement(\"select\",{value:toSelect,onChange:this.toChange},/*#__PURE__*/React.createElement(\"option\",{value:[\"1\"]},data.base),sortArrays)),/*#__PURE__*/React.createElement(\"div\",{id:\"conversion\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.calc},\"Convert\"))),/*#__PURE__*/React.createElement(\"div\",{id:display?\"results\":\"hidden\"},/*#__PURE__*/React.createElement(\"div\",{id:\"fromto\"},/*#__PURE__*/React.createElement(\"h2\",null,fromSelect[1],\" to \",toSelect[1])),/*#__PURE__*/React.createElement(\"div\",{id:\"converted\"},/*#__PURE__*/React.createElement(\"div\",{id:\"start\"},\" \",/*#__PURE__*/React.createElement(\"h2\",null,amountInput,\" \",fromSelect[1],\" =\")),/*#__PURE__*/React.createElement(\"div\",{id:\"mid\"},/*#__PURE__*/React.createElement(\"h1\",null,exchanged,\" \",toSelect[1])),/*#__PURE__*/React.createElement(\"div\",{id:\"fin\"},\" \",/*#__PURE__*/React.createElement(\"h2\",null,\" \",\"1 \",fromSelect[1],\" = \",oneFromRate,\" \",toSelect[1]),/*#__PURE__*/React.createElement(\"h2\",null,\" \",\"1 \",toSelect[1],\" = \",oneToRate,\" \",fromSelect[1]))),/*#__PURE__*/React.createElement(\"div\",{id:\"date\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Updated on:\",data.date))),/*#__PURE__*/React.createElement(Chart,{name:s,exc:t,date:data.date,based:data.base}));}}]);return Currency;}(Component);export default Currency;","map":{"version":3,"sources":["/Users/seanrobnett/Desktop/my-projects/code-test/currency-test/src/Components/Currency/Currency.jsx"],"names":["React","Component","Chart","axios","Currency","props","exchangeRates","get","then","res","setState","data","CurrencyRates","rates","fromChange","e","fromSelect","target","value","split","toChange","toSelect","calc","state","amountInput","calculated","exchanged","toFixed","toString","replace","display","rate","reverseRate","oneFromRate","oneToRate","bind","rateArray","Object","entries","s","map","b","t","sortArrays","sort","items","i","base","date"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Chart from \"../Chart/Chart\";\nimport \"./Currency.scss\";\nimport axios from \"axios\";\n\nclass Currency extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      CurrencyRates: [],\n\n      amountInput: \"\",\n      fromSelect: [\"1\"],\n      toSelect: [\"1\"],\n      exchanged: null,\n      oneToRate: null,\n      oneFromRate: null,\n      display: false\n    };\n    this.fromChange = this.fromChange.bind(this);\n  }\n  componentDidMount() {\n    this.exchangeRates();\n  }\n  exchangeRates = () => {\n    axios.get(`https://api.exchangeratesapi.io/latest`).then(res => {\n      this.setState({\n        data: res.data,\n        CurrencyRates: res.data.rates\n      });\n    });\n  };\n\n  fromChange = e => {\n    this.setState({\n      fromSelect: e.target.value.split(\",\")\n    });\n  };\n  toChange = e => {\n    this.setState({\n      toSelect: e.target.value.split(\",\")\n    });\n  };\n\n  calc = () => {\n    const { fromSelect, amountInput, toSelect } = this.state;\n    if (fromSelect[0] === 1) {\n      let calculated = amountInput * toSelect[0];\n      this.setState({\n        exchanged: calculated\n          .toFixed(3)\n          .toString()\n          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\"),\n        display: true,\n        amountInput: this.state.amountInput\n          .toString()\n          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n      });\n    } else if (toSelect[0] === 1) {\n      let rate = 1 / fromSelect[0];\n      let reverseRate = toSelect[0] / fromSelect[0];\n      let calculated = amountInput * rate;\n      this.setState({\n        exchanged: calculated\n          .toFixed(3)\n          .toString()\n          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\"),\n        oneFromRate: rate.toFixed(3),\n        oneToRate: reverseRate.toFixed(3),\n        display: true,\n        amountInput: this.state.amountInput\n          .toString()\n          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n      });\n    } else if (fromSelect[0] || toSelect[0] !== 1) {\n      let reverseRate = toSelect[0] / fromSelect[0];\n      let rate = fromSelect[0] / toSelect[0];\n      let calculated = amountInput * reverseRate;\n      this.setState({\n        exchanged: calculated\n          .toFixed(3)\n          .toString()\n          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\"),\n        oneFromRate: reverseRate.toFixed(3),\n        oneToRate: rate.toFixed(3),\n        display: true,\n        amountInput: this.state.amountInput\n          .toString()\n          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n      });\n    }\n  };\n\n  render() {\n    const {\n      CurrencyRates,\n      amountInput,\n      fromSelect,\n      toSelect,\n      exchanged,\n      oneFromRate,\n      oneToRate,\n      display,\n      data\n    } = this.state;\n\n    let rateArray = Object.entries(CurrencyRates);\n\n    let s = rateArray.map(b => {\n      return b[0];\n    });\n    let t = rateArray.map(b => {\n      return b[1];\n    });\n\n    const sortArrays = rateArray.sort().map((items, i) => {\n      return (\n        <option key={i} value={[items[1], items[0]]}>\n          {items[0]}\n        </option>\n      );\n    });\n\n    return (\n      <div>\n        <div id='header'>\n          <h1>CurrencyXChange</h1>\n        </div>\n\n        <div id='container'>\n          <div id='calculator'>\n            <input\n              value={amountInput}\n              onChange={e => this.setState({ amountInput: e.target.value })}\n            />\n\n            <select value={fromSelect} onChange={this.fromChange}>\n              <option value={[\"1\"]}>{data.base}</option>\n              {sortArrays}\n            </select>\n            <select value={toSelect} onChange={this.toChange}>\n              <option value={[\"1\"]}>{data.base}</option>\n              {sortArrays}\n            </select>\n          </div>\n          <div id='conversion'>\n            <button onClick={this.calc}>Convert</button>\n          </div>\n        </div>\n        <div id={display ? \"results\" : \"hidden\"}>\n          <div id='fromto'>\n            <h2>\n              {fromSelect[1]} to {toSelect[1]}\n            </h2>\n          </div>\n          <div id='converted'>\n            <div id='start'>\n              {\" \"}\n              <h2>\n                {amountInput} {fromSelect[1]} =\n              </h2>\n            </div>\n            <div id='mid'>\n              <h1>\n                {exchanged} {toSelect[1]}\n              </h1>\n            </div>\n            <div id='fin'>\n              {\" \"}\n              <h2>\n                {\" \"}\n                1 {fromSelect[1]} = {oneFromRate} {toSelect[1]}\n              </h2>\n              <h2>\n                {\" \"}\n                1 {toSelect[1]} = {oneToRate} {fromSelect[1]}\n              </h2>\n            </div>\n          </div>\n          <div id='date'>\n            <h2>Updated on:{data.date}</h2>\n          </div>\n        </div>\n        <Chart name={s} exc={t} date={data.date} based={data.base} />\n      </div>\n    );\n  }\n}\n\nexport default Currency;\n"]},"metadata":{},"sourceType":"module"}